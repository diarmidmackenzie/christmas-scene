<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Top Hat Experiment</title>
    <meta name="description" content="Merry Christmas 2021!">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/MozillaReality/ammo.js@8bbc0ea/builds/ammo.wasm.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.js"></script>
    <script src="../physics-ammo/move-objects.js"></script>
    <script src="./composite.js"></script>

  </head>
  <body>
    <a-scene physics="driver: ammo; debug: true; debugDrawMode: 1;">
      <a-assets>


        <a-mixin id="hat-brim"
                 material="color:black"
                 geometry="primitive:cylinder;height:0.04;radius:0.25" >
        </a-mixin>
        <a-mixin id="hat-top"
                 material="color:black"
                 geometry="primitive:cylinder;height:0.3;radius:0.15" >
        </a-mixin>
        <a-entity id="hat-geometry" composite-geometry="type:tophat">
          <a-entity mixin="hat-brim" position="0 0 0"></a-entity>
          <a-entity mixin="hat-top" position="0 0.15 0"></a-entity>
        </a-entity>
      </a-assets>



      <a-entity>
        <a-camera position="0 1.6 0"></a-camera>
        <a-entity id="rhand" hand
                  hand-controls="hand: right">
        </a-entity>
        <a-entity id="lhand" hand
                  hand-controls="hand: left">
        </a-entity>
      </a-entity>
      <a-entity id="play-area">

        <a-entity id="snowman-hat"  position="0 1.4 -1.5">
            <a-entity mixin="hat-brim" position="0 0 0">
                <a-entity mixin="hat-top" position="0 0.15 0"></a-entity>
            </a-entity>
        </a-entity>

        <a-entity id="test-hat" use-composite-geometry="primitive:composite;type:tophat" material="color:blue"
                  position "1 1 -3">
        </a-entity>

        <a-box id="floor-plane"
               width = "20" height = "1" depth = "20"
               sticky-object
               position = "0 -0.5 0"
               visible = false>
        </a-box>
      </a-entity>
    </a-scene>
  </body>
</html>
